{"version":3,"sources":["webpack:///./src/components/Pulse/index.js","webpack:///./src/components/MagicBox/index.js","webpack:///./src/pages/simple.js","webpack:///./src/components/back.js","webpack:///./node_modules/core-js/modules/_flags.js","webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///./node_modules/core-js/modules/_object-sap.js","webpack:///./node_modules/core-js/modules/es6.regexp.to-string.js","webpack:///./node_modules/core-js/modules/es6.regexp.flags.js","webpack:///./node_modules/core-js/modules/es6.date.to-string.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./src/components/MagicBox/MagicBox.module.css","webpack:///./node_modules/classnames/index.js","webpack:///./src/components/Pulse/Pulse.module.css"],"names":["components_Pulse","render","_this$props","this","props","style","left","x","top","y","react_default","a","createElement","className","Pulse_module_default","Item","Component","components_MagicBox","MagicBox","_this","_React$Component","call","_container","_pulling","on","_setContainerRef","element","_onMouseDown","_ref","pageX","pageY","_onMouseMove","_ref2","target","_sizes","_this$_getOffset","_getOffset","_this$_sizes","halfWidth","width","halfHeight","height","tensionX","tensionY","offsetX","offsetY","pullingX","Math","abs","pullingY","scaleX","scaleY","transform","_ff","join","setState","textStyle","n","toString","split","map","i","substring","_onMouseUp","Object","assign","state","_onClick","_ref3","pulled","offset","_this$state","pulses","counter","_setRandColor","_createPulse","_onMouseLeave","event","_this$_getOffset2","_this$_container$getB","getBoundingClientRect","_this$_generateRandCo","_generateRandColor","backgroundColor","highlightText","containerStyle","clicked","_classNames","_this$state2","classnames_default","MagicBox_module_default","Container","HighlightText","questMessage","ref","onMouseLeave","onMouseDown","onMouseMove","onMouseUp","onClick","Text","keys","key","_pulses$key","componentWillUnmount","forEach","clearTimeout","disconnect","_this2","_ref4","increment","setTimeout","_this$_generateRandCo2","_this$_getRandRGBA","_getRandRGBA","r","g","b","opacity","sqrt","_pow","_getRandInt","_getRandArbitrary","min","max","random","floor","v","pow","_ref5","offsetLeft","offsetTop","_this$_container$getB2","__webpack_exports__","back","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","gatsby_link__WEBPACK_IMPORTED_MODULE_1__","gatsby_link__WEBPACK_IMPORTED_MODULE_1___default","to","anObject","module","exports","that","result","global","ignoreCase","multiline","unicode","sticky","toObject","$keys","it","$export","core","fails","KEY","exec","fn","exp","S","F","$flags","DESCRIPTORS","$toString","define","RegExp","prototype","source","flags","R","concat","undefined","name","f","configurable","get","DateProto","Date","getTime","NaN","value","_defineProperties","length","descriptor","enumerable","writable","defineProperty","Constructor","protoProps","staticProps","__WEBPACK_AMD_DEFINE_RESULT__","hasOwn","hasOwnProperty","classNames","classes","arguments","arg","argType","push","Array","isArray","inner","apply","default","explode","fadeout"],"mappings":"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","file":"component---src-pages-simple-js-cb751e706156a923c639.js","sourcesContent":["import React from 'react'\r\nimport styles from './Pulse.module.css'\r\n\r\nclass Pulse extends React.Component {\r\n  render() {\r\n    const { x, y } = this.props\r\n    const style = {\r\n      left: x,\r\n      top: y,\r\n    }\r\n\r\n    return <div className={styles.Item} style={style} />\r\n  }\r\n}\r\n\r\nexport default Pulse\r\n","import React from 'react'\r\nimport styles from './MagicBox.module.css'\r\nimport classNames from 'classnames'\r\nimport Pulse from '../Pulse'\r\n\r\nclass MagicBox extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const { backgroundColor, highlightText } = this._generateRandColor()\r\n\r\n    this.state = {\r\n      containerStyle: {\r\n        backgroundColor,\r\n      },\r\n      textStyle: {\r\n        transform: '',\r\n        left: 0,\r\n        top: 0,\r\n      },\r\n      highlightText,\r\n      pulses: {},\r\n      counter: 0,\r\n      clicked: false,\r\n      pulled: false,\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      containerStyle,\r\n      textStyle,\r\n      highlightText,\r\n      pulses,\r\n      clicked,\r\n      pulled,\r\n    } = this.state\r\n\r\n    const className = classNames({\r\n      [styles.Container]: true,\r\n      [styles.HighlightText]: highlightText,\r\n    })\r\n\r\n    const questMessage =\r\n      pulled && clicked ? `what's next?` : clicked ? `pull me` : `click me`\r\n\r\n    return (\r\n      <div\r\n        className={className}\r\n        ref={this._setContainerRef}\r\n        style={containerStyle}\r\n        onMouseLeave={this._onMouseLeave}\r\n        onMouseDown={this._onMouseDown}\r\n        onMouseMove={this._onMouseMove}\r\n        onMouseUp={this._onMouseUp}\r\n        onClick={this._onClick}\r\n      >\r\n        <span className={styles.Text} style={textStyle}>\r\n          {questMessage}\r\n        </span>\r\n        {Object.keys(pulses).map(key => {\r\n          const { x, y } = pulses[key]\r\n\r\n          return <Pulse key={key} x={x} y={y} />\r\n        })}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { pulses } = this.state\r\n\r\n    Object.keys(pulses).forEach(key => {\r\n      clearTimeout(pulses[key].disconnect)\r\n    })\r\n  }\r\n\r\n  _container = null\r\n\r\n  _pulling = {\r\n    on: false,\r\n    x: 0,\r\n    y: 0,\r\n  }\r\n\r\n  _setContainerRef = element => {\r\n    this._container = element\r\n  }\r\n\r\n  _onMouseDown = ({ pageX, pageY }) => {\r\n    this._pulling.x = pageX\r\n    this._pulling.y = pageY\r\n  }\r\n\r\n  _onMouseMove = ({ pageX, pageY, target }) => {\r\n    if (!this._sizes) {\r\n      return\r\n    }\r\n\r\n    // offset\r\n    const { x, y } = this._getOffset({ pageX, pageY, target })\r\n    const { width, height } = this._sizes\r\n    const halfWidth = width / 2\r\n    const halfHeight = height / 2\r\n    const deltaX = x > halfWidth ? x - halfWidth : -(halfWidth - x)\r\n    const deltaY = y > halfHeight ? y - halfHeight : -(halfHeight - y)\r\n    const tensionX = deltaX / halfWidth\r\n    const tensionY = deltaY / halfHeight\r\n    const maxDeviationX = 120\r\n    const maxDeviationY = 60\r\n    // scale\r\n    const offsetX = pageX - this._pulling.x\r\n    const offsetY = pageY - this._pulling.y\r\n    const pullingX = this._pulling.x ? Math.abs(offsetX) : 0\r\n    const pullingY = this._pulling.y ? Math.abs(offsetY) : 0\r\n    const scaleX = pullingX ? (pullingX + 64) / 100 : 0\r\n    const scaleY = pullingY ? (pullingY + 64) / 100 : 0\r\n\r\n    if (scaleX > 1 || scaleY > 1) {\r\n      this._pulling.on = true\r\n    }\r\n\r\n    const transform =\r\n      scaleX > 1 || scaleY > 1\r\n        ? [\r\n            `scale(${scaleX > 1 ? this._ff(scaleX) : 1}, ${\r\n              scaleY > 1 ? this._ff(scaleY) : 1\r\n            })`,\r\n          ].join('')\r\n        : ''\r\n\r\n    this.setState({\r\n      textStyle: {\r\n        left: maxDeviationX * tensionX,\r\n        top: maxDeviationY * tensionY,\r\n        transform,\r\n      },\r\n    })\r\n  }\r\n\r\n  // fast format float => string ~1.23\r\n  _ff = n =>\r\n    n\r\n      .toString()\r\n      .split('.')\r\n      .map((n, i) => (!i ? n : n.substring(0, 2)))\r\n      .join('.')\r\n\r\n  _onMouseUp = () => {\r\n    this._pulling.x = 0\r\n    this._pulling.y = 0\r\n    this.setState({\r\n      textStyle: {\r\n        ...this.state.textStyle,\r\n        transform: '',\r\n      },\r\n    })\r\n  }\r\n\r\n  _onClick = ({ pageX, pageY, target }) => {\r\n    if (this._pulling.on) {\r\n      this._pulling.x = 0\r\n      this._pulling.y = 0\r\n      this._pulling.on = false\r\n      this.setState({ pulled: true })\r\n      return\r\n    }\r\n\r\n    const offset = this._getOffset({ pageX, pageY, target })\r\n    const { pulses, counter } = this.state\r\n\r\n    this._setRandColor()\r\n    this._createPulse({\r\n      ...offset,\r\n      pulses,\r\n      counter,\r\n    })\r\n  }\r\n\r\n  _onMouseLeave = event => {\r\n    const { x, y } = this._getOffset(event)\r\n    const { width, height } = this._container.getBoundingClientRect()\r\n\r\n    this._pulling.x = 0\r\n    this._pulling.y = 0\r\n    this._pulling.on = false\r\n\r\n    if (x < 0 || x > width || y < 0 || y > height) {\r\n      this.setState({\r\n        textStyle: {\r\n          transform: '',\r\n          left: 0,\r\n          top: 0,\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  _createPulse({ x, y, pulses, counter }) {\r\n    const increment = counter + 1\r\n\r\n    pulses[increment] = {\r\n      disconnect: setTimeout(() => {\r\n        delete pulses[increment]\r\n\r\n        this.setState({\r\n          pulses,\r\n        })\r\n      }, 5000),\r\n      x,\r\n      y,\r\n    }\r\n\r\n    this.setState({\r\n      clicked: true,\r\n      counter: increment,\r\n      pulses,\r\n    })\r\n  }\r\n\r\n  _setRandColor() {\r\n    const { backgroundColor, highlightText } = this._generateRandColor()\r\n\r\n    this.setState({\r\n      containerStyle: { backgroundColor },\r\n      highlightText,\r\n    })\r\n  }\r\n\r\n  _generateRandColor() {\r\n    const { r, g, b, a } = this._getRandRGBA()\r\n    const opacity = Math.sqrt(a)\r\n    const darkest = this._pow(r) + this._pow(g) + this._pow(b)\r\n\r\n    return {\r\n      backgroundColor: `rgba(${r},${g},${b},${opacity})`,\r\n      highlightText: darkest > 123456 && opacity > 0.78,\r\n    }\r\n  }\r\n\r\n  _getRandRGBA() {\r\n    return {\r\n      r: this._getRandInt(0, 256),\r\n      g: this._getRandInt(0, 256),\r\n      b: this._getRandInt(0, 256),\r\n      a: this._getRandArbitrary(0, 1),\r\n    }\r\n  }\r\n\r\n  _getRandArbitrary(min, max) {\r\n    return Math.random() * (max - min) + min\r\n  }\r\n\r\n  _getRandInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min)) + min\r\n  }\r\n\r\n  _pow(v) {\r\n    return Math.pow(256 - v, 2)\r\n  }\r\n\r\n  _getOffset({ pageX, pageY, target }) {\r\n    return {\r\n      x: pageX - target.offsetLeft,\r\n      y: pageY - target.offsetTop,\r\n    }\r\n  }\r\n\r\n  get _sizes() {\r\n    if (!this._container) {\r\n      return null\r\n    }\r\n\r\n    const { width, height } = this._container.getBoundingClientRect()\r\n\r\n    return {\r\n      width,\r\n      height,\r\n    }\r\n  }\r\n}\r\n\r\nexport default MagicBox\r\n","import React from 'react'\r\n\r\nimport Back from '../components/back'\r\nimport MagicBox from '../components/MagicBox'\r\n\r\nconst SimplePage = () => (\r\n  <div>\r\n    <Back />\r\n    <MagicBox />\r\n  </div>\r\n)\r\n\r\nexport default SimplePage\r\n","import React from 'react'\r\nimport Link from 'gatsby-link'\r\n\r\nconst Back = () => (\r\n  <p>\r\n    &larr; <Link to=\"/\">Back</Link>\r\n  </p>\r\n)\r\n\r\nexport default Back\r\n","'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","var DateProto = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar $toString = DateProto[TO_STRING];\nvar getTime = DateProto.getTime;\nif (new Date(NaN) + '' != INVALID_DATE) {\n  require('./_redefine')(DateProto, TO_STRING, function toString() {\n    var value = getTime.call(this);\n    // eslint-disable-next-line no-self-compare\n    return value === value ? $toString.call(this) : INVALID_DATE;\n  });\n}\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"MagicBox-module--Container--1V53_\",\"HighlightText\":\"MagicBox-module--HighlightText--1SMG1\",\"Text\":\"MagicBox-module--Text--3iDfv\"};","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Item\":\"Pulse-module--Item--9rD3K\",\"explode\":\"Pulse-module--explode--3b8A2\",\"fadeout\":\"Pulse-module--fadeout--xeVws\"};"],"sourceRoot":""}